(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f2534dd8"],{2423:function(t,e,n){"use strict";n.d(e,"h",(function(){return a})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return s})),n.d(e,"i",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return p}));var r=n("b775"),a=function(t){return Object(r["a"])({url:"/app/v1_1/articles",method:"GET",params:t})},c=function(){return Object(r["a"])({url:"/app/v1_0/channels",method:"GET"})},s=function(t){return Object(r["a"])({url:"/app/v1_0/user/channels",method:"PATCH",data:t})},i=function(t){return Object(r["a"])({url:"/app/v1_0/user/channels/".concat(t),method:"DELETE"})},o=function(t){return Object(r["a"])({url:"/app/v1_0/articles/".concat(t),method:"GET"})},u=function(t){return Object(r["a"])({url:"/app/v1_0/article/collections",method:"POST",data:{target:t}})},l=function(t){return Object(r["a"])({url:"/app/v1_0/article/collections/".concat(t),method:"DELETE"})},f=function(t){return Object(r["a"])({url:"/app/v1_0/article/likings",method:"POST",data:{target:t}})},p=function(t){return Object(r["a"])({url:"/app/v1_0/article/likings/".concat(t),method:"DELETE"})}},"33fd":function(t,e,n){},"431f":function(t,e,n){"use strict";n("570e")},"52e1":function(t,e,n){},"570e":function(t,e,n){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),a=n("5899"),c="["+a+"]",s=RegExp("^"+c+c+"*"),i=RegExp(c+c+"*$"),o=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(s,"")),2&t&&(n=n.replace(i,"")),n}};t.exports={start:o(1),end:o(2),trim:o(3)}},"7abe":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-conent"},[n("navbar",[n("router-link",{staticClass:"soushuo",attrs:{slot:"title",tar:"div",to:"/search"},slot:"title"},[n("i",{staticClass:"icon icon-sousuo"}),n("span",[t._v("搜索")])])],1),n("div",{staticClass:"tabs"},[n("van-tabs",{attrs:{sticky:"",color:"#1989fa","line-width":"20px"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabCont,(function(t){return n("van-tab",{key:t.id,attrs:{title:t.name}},[n("chapters",{attrs:{chapter:t}})],1)})),1)],1),n("div",{staticClass:"pList"},[n("i",{staticClass:"hbg icon icon-gengduo",on:{click:t.showPopup}})]),n("van-popup",{staticClass:"popList",attrs:{position:"bottom",closeable:!0,"close-icon-position":"top-left","get-container":"body"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("pindaoSet",{attrs:{plists:t.tabCont,actives:t.active},on:{act:t.pBtn,clone:t.cloneSet}})],1)],1)},a=[],c=n("1da1"),s=(n("96cf"),n("9d8d")),i=n("c24f"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"chapters",staticClass:"chapters"},[n("van-pull-refresh",{attrs:{"success-text":t.suc,"success-duration":"800"},on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[t.nullList?n("van-empty",{attrs:{image:"error",description:"暂无数据"}}):n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","error:":"",false:"",error:t.error,"error-text":"请求失败，点击重新加载"},on:{"update:error":function(e){t.error=e},load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t,e){return n("atcItem",{key:e,attrs:{atcData:t}})})),1)],1)],1)},u=[],l=n("2909"),f=n("2423"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"atc-item"},[n("van-cell",{on:{click:function(e){return t.$router.push("/article/"+t.atcData.art_id)}}},[n("p",{staticClass:"title van-multi-ellipsis--l3",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.atcData.title))]),n("div",{attrs:{slot:"label"},slot:"label"},[t.atcData.cover.type>=2?n("div",{staticClass:"imgData"},t._l(t.atcData.cover.images,(function(t,e){return n("van-image",{key:e,staticClass:"img",attrs:{fit:"cover",src:t}})})),1):t._e(),n("div",{staticClass:"botTxt"},[t.atcData.is_top?n("span",[t._v("置顶")]):t._e(),n("span",[t._v(t._s(t.atcData.aut_name))]),n("span",[t._v(t._s(t.atcData.comm_count)+"条评论")]),n("span",[t._v(t._s(t._f("days")(t.atcData.pubdate)))])])]),1===t.atcData.cover.type?n("van-image",{staticClass:"imgs",attrs:{fit:"cover",src:t.atcData.cover.images[0]}}):t._e()],1)],1)},d=[],h={name:"atcItem",data:function(){return{}},props:{atcData:{type:Object,required:!0}},filters:{},created:function(){}},b=h,v=(n("9f70"),n("2877")),m=Object(v["a"])(b,p,d,!1,null,"79599b24",null),g=m.exports,_=n("2ef0"),O={name:"chapters",components:{atcItem:g},props:{chapter:{type:Object,required:!0}},data:function(){return{list:[],loading:!1,finished:!1,error:!1,nullList:!1,timeDate:null,refreshing:!1,suc:"",onScroll:0}},computed:{},watch:{},created:function(){},mounted:function(){var t=this,e=this.$refs.chapters;e.onscroll=Object(_["debounce"])((function(){t.onScroll=e.scrollTop}),50)},methods:{onLoad:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f["h"])({channel_id:t.chapter.id,timestamp:t.timeDate||(new Date).getTime(),with_top:1});case 3:n=e.sent,r=n.data,r.data.results.length?((a=t.list).push.apply(a,Object(l["a"])(r.data.results)),t.loading=!1,t.timeData=r.data.pre_timestamp):t.list.length?t.finished=!0:t.nullList=!t.nullList,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),t.loading=!1,t.error=!0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},onRefresh:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f["h"])({channel_id:t.chapter.id,timestamp:(new Date).getTime(),with_top:1});case 3:r=e.sent,a=r.data,(n=t.list).unshift.apply(n,Object(l["a"])(a.data.results)),t.refreshing=!1,t.suc="加载了".concat(a.data.results.length,"条数据"),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}},activated:function(){this.$refs.chapters.scrollTop=this.onScroll}},x=O,k=(n("431f"),Object(v["a"])(x,o,u,!1,null,null,null)),j=k.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pindaoSet"},[n("van-cell",{attrs:{title:"我的频道",border:!1}},[n("button",{staticClass:"rightBtn",attrs:{slot:"extra"},on:{click:t.setbtn},slot:"extra"},[t._v(t._s(t.btn?"完成":"编辑"))])]),n("div",{staticClass:"grid"},t._l(t.plists,(function(e,r){return n("div",{key:r,class:t.actives===r?"oItem":"gridItem",on:{click:function(n){return t.popbtn(r,e)}}},[t.btn&&0!==r?n("i",{staticClass:"icon icon-guanbi1"}):t._e(),n("span",[t._v(t._s(e.name))])])})),0),n("van-cell",{attrs:{title:"频道推荐",border:!1}}),n("div",{staticClass:"grid"},t._l(t.boonList,(function(e,r){return n("div",{key:r,staticClass:"gridItem",on:{click:function(n){return t.onAdd(e)}}},[n("span",[t._v(t._s(t.boonList[r].name))])])})),0)],1)},E=[],C=(n("a434"),n("4de4"),n("7db0"),n("a9e3"),n("4ffc")),T={name:"pindaoSet",data:function(){return{pAllList:[],btn:!1}},created:function(){this.theAllList()},methods:{theAllList:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f["f"])();case 3:n=e.sent,r=n.data,t.pAllList=r.data.channels,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},setbtn:function(){this.btn=!this.btn},popbtn:function(t,e){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!n.btn||0===t){r.next=11;break}if(n.plists.splice(t,1),!n.$store.state.token){r.next=7;break}return r.next=5,Object(f["i"])(e.id);case 5:r.next=8;break;case 7:Object(C["c"])(n.plists,"user-channels");case 8:t<n.actives&&n.$emit("act",n.actives-1),r.next=12;break;case 11:n.$emit("clone",t);case 12:case"end":return r.stop()}}),r)})))()},onAdd:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.plists.push(t),!e.$store.state.token){n.next=6;break}return n.next=4,Object(f["e"])({channels:[{id:t.id,seq:e.plists.length}]});case 4:n.next=7;break;case 6:Object(C["c"])(e.plists,"user-channels");case 7:case"end":return n.stop()}}),n)})))()}},computed:{boonList:function(){var t=this;return this.pAllList.filter((function(e){return!t.plists.find((function(t){return t.id===e.id}))}))}},props:{plists:{type:Array,required:!0},actives:{type:Number,required:!0}}},I=T,A=(n("db70"),Object(v["a"])(I,w,E,!1,null,"1ea10305",null)),y=A.exports,L={name:"HomeIndex",data:function(){return{active:0,tabCont:[],show:!1}},components:{navbar:s["a"],chapters:j,pindaoSet:y},methods:{getChanners:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,r,a,c,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$store.state.token){e.next=14;break}return e.prev=1,e.next=4,Object(i["c"])();case 4:n=e.sent,r=n.data,t.tabCont=r.data.channels,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:e.next=30;break;case 14:if(a=Object(C["b"])("user-channels"),!a){e.next=19;break}t.tabCont=a,e.next=30;break;case 19:return e.prev=19,e.next=22,Object(i["c"])();case 22:c=e.sent,s=c.data,t.tabCont=s.data.channels,e.next=30;break;case 27:e.prev=27,e.t1=e["catch"](19),console.log(e.t1);case 30:case"end":return e.stop()}}),e,null,[[1,9],[19,27]])})))()},showPopup:function(){this.show=!0},cloneSet:function(t){this.show=!1,this.active=t},pBtn:function(t){this.active=t}},created:function(){this.getChanners()},fllters:{}},D=L,N=(n("9426"),Object(v["a"])(D,r,a,!1,null,"5f3b76f4",null));e["default"]=N.exports},"7db0":function(t,e,n){"use strict";var r=n("23e7"),a=n("b727").find,c=n("44d2"),s="find",i=!0;s in[]&&Array(1)[s]((function(){i=!1})),r({target:"Array",proto:!0,forced:i},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),c(s)},9426:function(t,e,n){"use strict";n("e0ea")},"9f70":function(t,e,n){"use strict";n("52e1")},a9e3:function(t,e,n){"use strict";var r=n("83ab"),a=n("da84"),c=n("94ca"),s=n("6eeb"),i=n("5135"),o=n("c6b6"),u=n("7156"),l=n("c04e"),f=n("d039"),p=n("7c73"),d=n("241c").f,h=n("06cf").f,b=n("9bf2").f,v=n("58a8").trim,m="Number",g=a[m],_=g.prototype,O=o(p(_))==m,x=function(t){var e,n,r,a,c,s,i,o,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=v(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+u}for(c=u.slice(2),s=c.length,i=0;i<s;i++)if(o=c.charCodeAt(i),o<48||o>a)return NaN;return parseInt(c,r)}return+u};if(c(m,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var k,j=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof j&&(O?f((function(){_.valueOf.call(n)})):o(n)!=m)?u(new g(x(e)),n,j):x(e)},w=r?d(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),E=0;w.length>E;E++)i(g,k=w[E])&&!i(j,k)&&b(j,k,h(g,k));j.prototype=_,_.constructor=j,s(a,m,j)}},c24f:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"h",(function(){return s})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"i",(function(){return l})),n.d(e,"g",(function(){return f})),n.d(e,"f",(function(){return p}));var r=n("b775"),a=function(t){return Object(r["a"])({url:"/app/v1_0/authorizations",method:"POST",data:t})},c=function(t){return Object(r["a"])({url:"/app/v1_0/sms/codes/".concat(t),method:"GET"})},s=function(){return Object(r["a"])({url:"/app/v1_0/user",method:"GET"})},i=function(){return Object(r["a"])({url:"/app/v1_0/user/channels",method:"GET"})},o=function(t){return Object(r["a"])({url:"/app/v1_0/user/followings",method:"POST",data:{target:t}})},u=function(t){return Object(r["a"])({url:"/app/v1_0/user/followings/".concat(t),method:"DELETE"})},l=function(){return Object(r["a"])({url:"/app/v1_0/user/profile",method:"GET"})},f=function(t){return Object(r["a"])({url:"/app/v1_0/user/profile",method:"PATCH",data:t})},p=function(t){return Object(r["a"])({url:"/app/v1_0/user/photo",method:"PATCH",data:t})}},db70:function(t,e,n){"use strict";n("33fd")},e0ea:function(t,e,n){}}]);
//# sourceMappingURL=chunk-f2534dd8.7544fcca.js.map